(function(e){function t(t){for(var r,s,i=t[0],c=t[1],l=t[2],m=0,d=[];m<i.length;m++)s=i[m],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&d.push(a[s][0]),a[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(d.length)d.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,i=1;i<n.length;i++){var c=n[i];0!==a[c]&&(r=!1)}r&&(o.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},a={app:0},o=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/webapp/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=c;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"3ae1":function(e,t,n){},4678:function(e,t,n){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id="4678"},"56d7":function(e,t,n){"use strict";n.r(t);n("d3b7"),n("96cf");var r=n("1da1"),a=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("e87a")),o=n("2b27"),s=n.n(o),i="common_token",c="judge-em.github.io",l={expires:"2h"},u={deleteSessionCookie:function(){s.a.remove(i,"/webapp",c)},hasSessionCookie:function(){return!!s.a.get(i)},setSessionCookie:function(e){s.a.set(i,e,l.expires,"/webapp",c)},getSessionCookie:function(){return s.a.get(i)}},m={install:function(e){var t=(new a["a"]).withUrl("https://judge-em-api.herokuapp.com/hubs/game",{accessTokenFactory:function(){return u.getSessionCookie()}}).configureLogging(a["b"].Information).build(),n=new e;e.prototype.$gameHub=n,t.on("RefreshCurrentItemId",(function(e){n.$emit("current-item-received",e)})),t.on("RefreshItemList",(function(e){n.$emit("items-received",e)})),t.on("RefreshVotingProgress",(function(e,t){n.$emit("voting-progress-received",e,t)})),t.on("SendMessage",(function(e,t){n.$emit("message-received",{content:e,type:t})})),t.on("DisbandGame",(function(e){console.log(e)})),t.on("ShowSummary",(function(e){n.$emit("summary-received",e)})),t.on("RefreshCategories",(function(e){n.$emit("categories-received",e)})),t.on("SendPlayerProfileId",(function(e){n.$emit("profile-received",e)})),t.on("RefreshPlayersList",(function(e){n.$emit("player-list-received",e)})),t.on("AllowGameControl",(function(e){n.$emit("master-id-received",e)})),t.on("RequestCurrentItemId",(function(e){n.$emit("master-requested",e)})),e.prototype.$connection=t;var r=null;e.prototype.connect=function(){return r=t.start().catch((function(){return new Promise((function(t,n){return setTimeout((function(){return e.prototype.connect().then(t).catch(n)}),5e3)}))})),r}}},d=n("5c96"),f=n("7bb1"),p={install:function(e){e.component("ValidationProvider",f["b"]),e.component("ValidationObserver",f["a"]),e.use(d["Pagination"]),e.use(d["Dialog"]),e.use(d["Autocomplete"]),e.use(d["Dropdown"]),e.use(d["DropdownMenu"]),e.use(d["DropdownItem"]),e.use(d["Menu"]),e.use(d["Submenu"]),e.use(d["MenuItem"]),e.use(d["MenuItemGroup"]),e.use(d["Input"]),e.use(d["InputNumber"]),e.use(d["Radio"]),e.use(d["RadioGroup"]),e.use(d["RadioButton"]),e.use(d["Checkbox"]),e.use(d["CheckboxButton"]),e.use(d["CheckboxGroup"]),e.use(d["Switch"]),e.use(d["Select"]),e.use(d["Option"]),e.use(d["OptionGroup"]),e.use(d["Button"]),e.use(d["ButtonGroup"]),e.use(d["Table"]),e.use(d["TableColumn"]),e.use(d["DatePicker"]),e.use(d["TimeSelect"]),e.use(d["TimePicker"]),e.use(d["Popover"]),e.use(d["Tooltip"]),e.use(d["Breadcrumb"]),e.use(d["BreadcrumbItem"]),e.use(d["Form"]),e.use(d["FormItem"]),e.use(d["Tabs"]),e.use(d["TabPane"]),e.use(d["Tag"]),e.use(d["Tree"]),e.use(d["Alert"]),e.use(d["Slider"]),e.use(d["Icon"]),e.use(d["Row"]),e.use(d["Col"]),e.use(d["Upload"]),e.use(d["Progress"]),e.use(d["Spinner"]),e.use(d["Badge"]),e.use(d["Card"]),e.use(d["Rate"]),e.use(d["Steps"]),e.use(d["Step"]),e.use(d["Carousel"]),e.use(d["CarouselItem"]),e.use(d["Collapse"]),e.use(d["CollapseItem"]),e.use(d["Cascader"]),e.use(d["ColorPicker"]),e.use(d["Transfer"]),e.use(d["Container"]),e.use(d["Header"]),e.use(d["Aside"]),e.use(d["Main"]),e.use(d["Footer"]),e.use(d["Timeline"]),e.use(d["TimelineItem"]),e.use(d["Link"]),e.use(d["Divider"]),e.use(d["Image"]),e.use(d["Calendar"]),e.use(d["Backtop"]),e.use(d["PageHeader"]),e.use(d["CascaderPanel"]),e.use(d["Loading"].directive),e.prototype.$loading=d["Loading"].service,e.prototype.$msgbox=d["MessageBox"],e.prototype.$alert=d["MessageBox"].alert,e.prototype.$confirm=d["MessageBox"].confirm,e.prototype.$prompt=d["MessageBox"].prompt,e.prototype.$notify=d["Notification"],e.prototype.$message=d["Message"]}},g=p,h=(n("f9e3"),n("0fae"),n("3ae1"),{}),b=n("4c93"),v=n("2b0e"),C=n("a925"),x=n("2593"),y={fields:{Name:"Name",RoomCode:"Room Code",Nickname:"Nickname",RoomName:"Room Name",CategoryName:"Category Name",CategoryWeight:"Category Weight",ItemName:"Item Name",ItemImage:"Item Image",ItemDescription:"Item Description"},validation:x.messages},j=y;v["default"].use(C["a"]);var w=new C["a"]({locale:"en",messages:{en:j}}),k=w;Object(f["c"])({defaultMessage:function(e,t){return t._field_=k.t("fields.".concat(e)),k.t("validation.".concat(t._rule_),t)}}),Object(f["d"])("required",b["h"]),Object(f["d"])("email",b["b"]),Object(f["d"])("confirmed",b["a"]),Object(f["d"])("min",b["e"]),Object(f["d"])("max",b["c"]),Object(f["d"])("min_value",b["f"]),Object(f["d"])("max_value",b["d"]),Object(f["d"])("numeric",b["g"]);var _=n("bc3a"),$=n.n(_),I=n("a7fe"),S=n.n(I),O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex vh-100"},[e.showNavbar?n("navbar",{staticClass:"navbar-overlay"}):e._e(),n("div",{staticClass:" view-overlay vw-100 vh-100",style:{paddingLeft:e.showNavbar&&!e.isSmallScreen?"64px":""}},[n("router-view")],1)],1)},R=[],P=(n("c740"),n("caad"),n("b0c0"),n("2532"),n("5530")),L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-menu",{staticClass:"vh-100",style:e.navbarStyle,attrs:{collapse:e.isCollapse}},[n("el-menu-item",{style:e.navbarItemStyle,on:{click:function(t){e.isCollapse=!e.isCollapse}}},[e.isCollapse?n("i",{staticClass:"el-icon-s-unfold"}):n("i",{staticClass:"el-icon-s-fold"})]),n("el-menu-item",{on:{click:function(t){return e.$router.push({name:"Home"})}}},[n("i",{staticClass:"el-icon-s-home"}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.$t("layout.Home")))])]),e.isGuest?e._e():n("el-menu-item",{on:{click:function(t){return e.$router.push({name:"Summaries"})}}},[n("i",{staticClass:"el-icon-notebook-2"}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.$t("layout.Summaries")))])]),n("el-menu-item",{on:{click:e.destroySession}},[n("i",{staticClass:"el-icon-switch-button"}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.$t("layout.LogOut")))])])],1)],1)},E=[],N={data:function(){return{width:window.innerWidth,breakpoint:600}},methods:{updateWidth:function(){this.width=window.innerWidth}},computed:{isSmallScreen:function(){return this.width<this.breakpoint}},created:function(){window.addEventListener("resize",this.updateWidth)},destroyed:function(){window.removeEventListener("resize",this.updateWidth)}},G=n("2f62"),A={data:function(){return{isCollapse:!0}},mixins:[N],methods:Object(P["a"])({},Object(G["b"])(["destroySession"])),computed:Object(P["a"])(Object(P["a"])({},Object(G["c"])(["isGuest"])),{},{navbarStyle:function(){return this.isSmallScreen&&this.isCollapse?"margin-left: -65px; padding-left: 20px ":""},navbarItemStyle:function(){return this.isSmallScreen&&this.isCollapse?"margin-left: 45px; padding-right: 40px ":""}})},D=A,V=n("2877"),F=Object(V["a"])(D,L,E,!1,null,null,null),M=F.exports,U={1:"success",2:"error",3:"info"},T=(n("99af"),{getFromStorage:function(e){return JSON.parse(localStorage["".concat(window.location.origin,"+").concat(e)])},storeInStorage:function(e,t){return localStorage["".concat(window.location.origin,"+").concat(e)]=JSON.stringify(t)},isStored:function(e){return!!localStorage["".concat(window.location.origin,"+").concat(e)]},removeFromStorage:function(e){localStorage.removeItem("".concat(window.location.origin,"+").concat(e))}}),B={components:{Navbar:M},data:function(){return{routesWithoutMenu:["Login"]}},mixins:[N],methods:Object(P["a"])({},Object(G["b"])(["setGameConfig","setCategories","setItems","setGameMaster","setVotingProgress","setLastItemId","setUsersInLobby","setProfileId"])),computed:Object(P["a"])(Object(P["a"])({},Object(G["c"])(["user","lastGameConfig","isMaster","items"])),{},{showNavbar:function(){return!this.routesWithoutMenu.includes(this.$route.name)}}),created:function(){var e=this;this.$connection.onclose((function(){return e.connect()})),this.$gameHub.$on("message-received",(function(t){e.$notify[U[t.type]]({title:t.content})})),this.$gameHub.$on("master-id-received",(function(t){e.setGameMaster(t)})),this.$gameHub.$on("categories-received",(function(t){e.setCategories(t)})),this.$gameHub.$on("items-received",(function(t){e.items.length>0&&e.$notify.success({title:e.$t("lobby.NewItem")}),e.setItems(t)})),this.$gameHub.$on("player-list-received",(function(t){e.setUsersInLobby(t)})),this.$gameHub.$on("master-requested",(function(t){e.lastGameConfig.lastItemId&&e.$connection.invoke("SynchronizeCurrentItem",t,e.lastGameConfig.lastItemId)})),this.$gameHub.$on("profile-received",(function(t){e.setProfileId(t),e.$router.push({name:"Lobby",params:{roomCode:e.lastGameConfig.code}})})),this.$gameHub.$on("summary-received",(function(t){e.$router.push({name:"Ranking",params:{summary:t}})})),this.$gameHub.$on("voting-progress-received",(function(t,n){if(e.setVotingProgress({maxVotes:n,votingCounter:t}),e.isMaster&&t>=n){var r=e.items.findIndex((function(t){return t.id===e.lastGameConfig.lastItemId}));e.items[r+1]?e.$connection.invoke("PushItemId",e.lastGameConfig.code,e.items[r+1].id):e.$connection.invoke("FinishGame",e.lastGameConfig.code)}})),this.$gameHub.$on("current-item-received",(function(t){e.setLastItemId(t),"Room"!==e.$route.name&&e.$router.push({name:"Room"})}))},watch:{user:function(e){null===e?(this.$notify.info({title:"Info",message:this.$t("layout.LoggedOut")}),this.$router.push({name:"Login"})):this.connect()},lastGameConfig:function(e){T.storeInStorage("lastGame",e)}}},H=B,q=Object(V["a"])(H,O,R,!1,null,null,null),W=q.exports,z={RoomCreator:"Room Creator",RoomName:"Room Name",CancelRoom:"Cancel Room",Next:"Next",Previous:"Previous",Finish:"Finish",EnterCategories:"Enter Categories",CategoryName:"Category Name",CategoryWeight:"Weight",ItemName:"Item name",EnterItems:"Enter Items",ItemDescription:"Description",ItemImage:"Image Url",NewCategory:"New category?",Error:"Error",CategoriesFail:"Make sure the categories are filled in correctly",InviteFriends:"Invite your friends",Lobby:"Lobby",Copied:"Copied to clipboard",SomethingGoesWrong:"Something goes wrong!",CopyToClipboard:"Copy To Clipboard",EmptyList:"Nothing to display"},J=z,Y={JoinToRoom:"Join to room",RoomCode:"Room Code",Join:"Join",Nickname:"Nickname",Or:"or",CreateRoom:"Create Room",GoHome:"Back to Home"},K=Y,Z={Summaries:"Summaries",LogOut:"LogOut",LoggedOut:"You have successfully logged out.",Home:"Home",Wait:"We're connecting to the server, wait a moment",NoItems:"You need to add at least one item to start"},Q=Z,X={WelcomeIn:"Welcome in |CODE| room",AddItem:"Add item",Start:"Start",LeaveRoom:"Leave room",ItemsList:"Items List",ItemAdded:"Item added",ShowSummary:"Show Summary",NewItem:"A new item has been added"},ee=X,te={Login:"Log in to Judge'Em",LoginViaGmail:"Log in with Gmail",LoginViaFacebook:"Log in with Facebook",Or:"or",LoginAsGuest:"Log in as Guest",Error:"User cancelled login or did not fully authorize.",Success:"You have successfully logged in."},ne=te,re={Voted:"Voted",MinRate:"The rate grade should be between 0 and 5",Ranking:"Ranking",Vote:"Vote",ForceNextStep:"Force Next"},ae=re,oe={Summaries:"Summaries",Summary:"Summary",Date:"Date"},se=oe,ie={login:ne,home:K,creator:J,layout:Q,lobby:ee,room:ae,summary:se},ce=ie,le={en:ce};v["default"].use(C["a"]);var ue=new C["a"]({locale:Object({VUE_APP_NODE_ENV:"prod",VUE_APP_API_BASE_URL:"https://judge-em-api.herokuapp.com/api",VUE_APP_FB_APP_ID:"311991233239838",NODE_ENV:"production",BASE_URL:"/webapp/"}).VUE_APP_I18N_FALLBACK_LOCALE||"en",fallbackLocale:Object({VUE_APP_NODE_ENV:"prod",VUE_APP_API_BASE_URL:"https://judge-em-api.herokuapp.com/api",VUE_APP_FB_APP_ID:"311991233239838",NODE_ENV:"production",BASE_URL:"/webapp/"}).VUE_APP_I18N_FALLBACK_LOCALE||"en",messages:le}),me=ue,de=(n("45fc"),n("8c4f"));n("a15b"),n("d81d"),n("fb6a"),n("ac1f"),n("25f0"),n("5319"),n("1276");function fe(e){var t=e.split(".")[1],n=t.replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(Array.prototype.map.call(atob(n),(function(e){return"%".concat("00".concat(e.charCodeAt(0).toString(16)).slice(-2))})).join(""));return JSON.parse(r)}v["default"].use(G["a"]);var pe=new G["a"].Store({state:{user:null,profileId:"",master:null,lastGameConfig:{code:"",nickname:"",lastItemId:null},categories:[],items:[],lobby:[],votingProgress:{max:null,progress:null}},getters:{user:function(e){return e.user},isGuest:function(e){return"Guest"===e.user.role},profileId:function(e){return e.profileId},lastGameConfig:function(e){return e.lastGameConfig},isMaster:function(e){return e.master===+e.user.nameid},categories:function(e){return e.categories},items:function(e){return e.items},usersInLobby:function(e){return e.lobby},votingProgress:function(e){return e.votingProgress}},mutations:{storeUser:function(e,t){e.user=t},storeProfileId:function(e,t){e.profileId=t},setGameConfig:function(e,t){e.lastGameConfig=t},setGameMaster:function(e,t){e.master=t},setCategorie:function(e,t){e.categories=t},setItems:function(e,t){e.items=t},setVotingProgress:function(e,t){e.votingProgress.max=t.maxVotes,e.votingProgress.progress=t.votingCounter},setLastItemId:function(e,t){e.lastGameConfig.lastItemId=t},setUsersInLobby:function(e,t){e.lobby=t},clearConfig:function(e){e.profileId="",e.master=!1,e.lastGameConfig={code:"",nickname:"",lastItemId:null},e.categories=[],e.items=[],e.lobby=[],e.votingProgress={max:null,progress:null}}},actions:{setSession:function(e,t){var n=e.commit;n("storeUser",fe(t)),u.setSessionCookie(t)},restoreSession:function(e){var t=e.getters,n=e.dispatch;null==t.user&&u.hasSessionCookie()&&(n("setSession",u.getSessionCookie()),T.isStored("lastGame")&&n("setGameConfig",T.getFromStorage("lastGame")),v["default"].prototype.connect())},destroySession:function(e){var t=e.commit;t("storeUser",null),t("clearConfig"),u.deleteSessionCookie()},setProfileId:function(e,t){var n=e.commit;n("storeProfileId",t)},setGameConfig:function(e,t){var n=e.commit;n("setGameConfig",t)},setGameMaster:function(e,t){var n=e.commit;n("setGameMaster",t)},setCategories:function(e,t){var n=e.commit;n("setCategorie",t)},setItems:function(e,t){var n=e.commit;n("setItems",t)},setVotingProgress:function(e,t){var n=e.commit;n("setVotingProgress",t)},setLastItemId:function(e,t){var n=e.commit;n("setLastItemId",t)},setUsersInLobby:function(e,t){var n=e.commit;n("setUsersInLobby",t)},endGame:function(e){var t=e.commit;t("clearConfig"),T.removeFromStorage("lastGame")}}}),ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home-page"},[n("div",{staticClass:"container vh-100 d-flex align-items-center justify-content-center"},[n("div",{staticClass:"col-12 col-md-7 px-0 px-sm-3"},[n("room-card")],1)])])},he=[],be=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"text-center my-4",attrs:{slot:"header"},slot:"header"},[n("h3",{staticClass:"home-header"},[e._v(" "+e._s(e.$t("home.JoinToRoom").toUpperCase())+" ")])]),n("div",{staticClass:"col-12 d-flex justify-content-center align-items-center flex-column px-0 px-sm-3"},[n("div",{staticClass:"col-12 col-lg-6 d-flex flex-column  px-0"},[n("ValidationObserver",{ref:"form"},[n("div",{staticClass:"form-group"},[n("div",{staticClass:"d-flex flex-column align-items-center justify-content-center"},[n("div",{staticClass:"col-12"},[n("ValidationProvider",{ref:"roomCode",attrs:{name:"RoomCode",rules:"required|min:6"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[n("el-input",{class:[{"is-invalid":r[0]}],attrs:{placeholder:e.$t("home.RoomCode"),maxlength:"6"},model:{value:e.roomCode,callback:function(t){e.roomCode=t},expression:"roomCode"}},[n("i",{staticClass:"el-input__icon el-icon-key",attrs:{slot:"prefix"},slot:"prefix"})]),n("small",{staticClass:"error-text"},[e._v(" "+e._s(r[0])+" ")])]}}])})],1),n("div",{staticClass:"col-12 mt-3"},[n("ValidationProvider",{ref:"nickname",attrs:{name:"Nickname",rules:"required|max:25"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[n("el-input",{class:[{"is-invalid":r[0]}],attrs:{placeholder:e.$t("home.Nickname"),maxlength:"25"},model:{value:e.nickname,callback:function(t){e.nickname=t},expression:"nickname"}},[n("i",{staticClass:"el-input__icon el-icon-user-solid",attrs:{slot:"prefix"},slot:"prefix"})]),n("small",{staticClass:"error-text"},[e._v(" "+e._s(r[0])+" ")])]}}])})],1),n("div",{staticClass:"col-12 flex-wrap d-flex flex-column"},[n("el-button",{staticClass:"text-wrap mt-3 font-weight-bold",attrs:{disabled:e.loading,type:"primary",icon:"el-icon-switch-button"},on:{click:e.joinToRoom}},[e._v(e._s(e.$t("home.Join")))])],1)])])])],1),e.isGuest?e._e():n("h5",{staticClass:"mb-2 grey"},[e._v(e._s(e.$t("home.Or")))]),e.isGuest?e._e():n("div",{staticClass:"col-12 col-lg-6 d-flex flex-column mb-2"},[n("el-button",{staticClass:"text-wrap mb-4 mt-2 font-weight-bold",attrs:{disabled:e.loading,type:"success",icon:"el-icon-magic-stick"},on:{click:e.createRoom}},[e._v(e._s(e.$t("home.CreateRoom")))])],1)])])},ve=[],Ce={data:function(){return{roomCode:"",nickname:"",loading:!1}},methods:Object(P["a"])(Object(P["a"])({},Object(G["b"])(["setProfileId","setGameConfig"])),{},{joinToRoom:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$refs.form.validate();case 3:if(n=t.sent,e.$connection.connectionStarted||e.$notify.info({title:"Info",message:e.$t("layout.Wait")}),!n||!e.$connection.connectionStarted){t.next=9;break}return e.setGameConfig({code:e.roomCode.toUpperCase(),nickname:e.nickname,lastItemId:null}),t.next=9,e.$connection.invoke("ConnectToGame",e.roomCode.toUpperCase(),e.nickname);case 9:e.loading=!1;case 10:case"end":return t.stop()}}),t)})))()},createRoom:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$router.push({name:"RoomCreate"});case 1:case"end":return t.stop()}}),t)})))()}}),computed:Object(P["a"])({},Object(G["c"])(["isGuest","lastGameConfig"])),mounted:function(){this.roomCode=this.lastGameConfig.code,this.nickname=this.lastGameConfig.nickname},watch:{lastGameConfig:function(e){this.roomCode=e.code,this.nickname=e.nickname}}},xe=Ce,ye=Object(V["a"])(xe,be,ve,!1,null,null,null),je=ye.exports,we={components:{RoomCard:je}},ke=we,_e=Object(V["a"])(ke,ge,he,!1,null,null,null),$e=_e.exports,Ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-page"},[n("div",{staticClass:"container vh-100 d-flex align-items-center justify-content-center"},[n("div",{staticClass:"col-12 col-md-7 px-0 px-sm-3"},[n("login-card")],1)])])},Se=[],Oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"text-center my-4",attrs:{slot:"header"},slot:"header"},[n("h3",{staticClass:"login-header"},[e._v(" "+e._s(e.$t("login.Login").toUpperCase())+" ")])]),n("div",{staticClass:"col-12 d-flex justify-content-center align-items-center flex-column text-center px-0 px-sm-3"},[n("div",{staticClass:"col-12 col-lg-8 d-flex flex-column"},[n("el-button",{staticClass:"text-wrap mt-4 font-weight-bold",attrs:{type:"primary",icon:e.loading?"el-icon-loading":"fa fa-facebook fa-fw",disabled:e.loading},on:{click:function(t){return e.authWithFacebook()}}},[e._v(e._s(e.$t("login.LoginViaFacebook")))])],1),n("h5",{staticClass:"my-2 grey"},[e._v(e._s(e.$t("login.Or")))]),n("div",{staticClass:"col-12 col-lg-8 d-flex flex-column mb-2"},[n("el-button",{staticClass:"text-wrap mb-4 font-weight-bold",attrs:{type:"info",icon:e.loading?"el-icon-loading":"el-icon-user-solid",disabled:e.loading},on:{click:function(t){return e.logIn(e.PROVIDERS.GUEST)}}},[e._v(e._s(e.$t("login.LoginAsGuest")))])],1)])])},Re=[],Pe={FACEBOOK:"facebook",GMAIL:"gmail",GUEST:"guest"},Le={data:function(){return{loading:!1,PROVIDERS:Pe}},created:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.loadFacebookSDK(document,"script","facebook-jssdk");case 2:return t.next=4,e.initFacebook();case 4:case"end":return t.stop()}}),t)})))()},methods:{logIn:function(e){var t=arguments,n=this;return Object(r["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=t.length>1&&void 0!==t[1]?t[1]:null,r.next=3,n.$auth.logIn(e,a);case 3:n.loading=!1,n.$notify.success({title:"Success",message:n.$t("login.Success")}),n.$router.push({name:"Home"});case 6:case"end":return r.stop()}}),r)})))()},authWithFacebook:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.loading=!0,window.FB.login(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n.authResponse){t.next=7;break}return t.next=3,window.FB.getAccessToken();case 3:r=t.sent,e.logIn(Pe.FACEBOOK,r),t.next=8;break;case 7:e.$notify.error({title:"Error",message:e.$t("login.Error")});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e.loading=!1;case 3:case"end":return t.stop()}}),t)})))()},initFacebook:function(){return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:window.fbAsyncInit=function(){window.FB.init({appId:"311991233239838",cookie:!0,xfbml:!0,version:"v8.0"})};case 1:case"end":return e.stop()}}),e)})))()},loadFacebookSDK:function(e,t,n){return Object(r["a"])(regeneratorRuntime.mark((function r(){var a,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(o=e.getElementsByTagName(t)[0],!e.getElementById(n)){r.next=3;break}return r.abrupt("return");case 3:return a=e.createElement(t),a.id=n,a.src="https://connect.facebook.net/en_US/sdk.js",r.next=8,o.parentNode.insertBefore(a,o);case 8:case"end":return r.stop()}}),r)})))()}}},Ee=Le,Ne=Object(V["a"])(Ee,Oe,Re,!1,null,null,null),Ge=Ne.exports,Ae={components:{LoginCard:Ge}},De=Ae,Ve=Object(V["a"])(De,Ie,Se,!1,null,null,null),Fe=Ve.exports,Me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ranking-page"},[n("div",{staticClass:"container vh-100 d-flex align-items-center justify-content-center"},[n("div",{staticClass:"col-12"},[n("ranking-card")],1)])])},Ue=[],Te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"text-center ranking-header my-4",attrs:{slot:"header"},slot:"header"},[n("h3",[e._v(" "+e._s(e.$t("room.Ranking").toUpperCase())+" ")])]),n("div",{staticClass:"col-12 d-flex justify-content-center align-items-center flex-wrap px-0 px-sm-3"},[e._l(e.ranking,(function(t,r){return n("div",{key:r,staticClass:"col-12 d-flex justify-content-between align-items-center my-2 ranking-item py-2"},[n("span",{staticClass:"col-6"},[e._v(e._s(t.name))]),n("span",{staticClass:"col-6 d-flex justify-content-end align-items-center"},[e._v(e._s(t.rating.toFixed(2))+" "),0===r?n("i",{staticClass:"pl-2 el-icon-trophy"}):e._e()])])})),n("div",{staticClass:"col-12 d-flex justify-content-between flex-column flex-md-row"},[n("el-button",{staticClass:"text-wrap my-2 font-weight-bold",attrs:{type:"danger",icon:"el-icon-back"},on:{click:e.leaveRoom}},[e._v(e._s(e.$t("lobby.LeaveRoom")))]),n("el-button",{staticClass:"text-wrap my-2 font-weight-bold mx-0",attrs:{type:"success",icon:"el-icon-right"},on:{click:e.showSummary}},[e._v(e._s(e.$t("lobby.ShowSummary")))])],1)],2)])},Be=[],He=(n("4160"),n("159b"),{data:function(){return{ranking:[],parsedData:{}}},created:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.$route.params.summary,n?(e.parsedData=JSON.parse(n.result),e.parsedData.Items.forEach((function(t){var n=0;t.Ratings.forEach((function(e){n+=e.TotalScore})),e.ranking.push({rating:n/t.Ratings.length,name:t.Name})})),e.ranking.sort((function(e,t){return t.rating-e.rating})),e.endGame()):e.$router.push({name:"Home"});case 2:case"end":return t.stop()}}),t)})))()},methods:Object(P["a"])(Object(P["a"])({},Object(G["b"])(["endGame"])),{},{leaveRoom:function(){this.$router.push({name:"Home"})},showSummary:function(){this.$router.push({name:"Summary",params:{gameId:this.parsedData.Id}})}})}),qe=He,We=Object(V["a"])(qe,Te,Be,!1,null,null,null),ze=We.exports,Je={components:{RankingCard:ze}},Ye=Je,Ke=Object(V["a"])(Ye,Me,Ue,!1,null,null,null),Ze=Ke.exports,Qe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"report-page"},[n("div",{staticClass:"container vh-100 d-flex align-items-center justify-content-center"},[n("div",{staticClass:"col-12"},[n("summaries-card")],1)])])},Xe=[],et=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-card",{staticClass:"box-card",staticStyle:{"max-height":"90vh",overflow:"auto"}},[n("div",{staticClass:"text-center",attrs:{slot:"header"},slot:"header"},[n("h3",[e._v(e._s(e.$t("summary.Summary")))])]),n("div",{staticClass:"col-12 d-flex justify-content-center align-items-center flex-wrap"},[n("canvas",{attrs:{id:"summaryChart"}})]),n("el-button",{staticClass:"text-wrap mb-4 mt-2 font-weight-bold",attrs:{type:"danger",icon:"el-icon-s-home"},on:{click:function(t){return e.$router.push({name:"Home"})}}},[e._v(e._s(e.$t("home.GoHome")))])],1)},tt=[],nt=n("b85c"),rt=n("30ef"),at=n.n(rt),ot={data:function(){return{summary:{},config:{type:"line",data:{labels:[],datasets:[]},options:{scales:{yAxes:[{ticks:{max:5,min:0,beginAtZero:!0}}],xAxes:[{offset:!0}]}}}}},mounted:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r,a,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.$route.params.gameId,!n){t.next=15;break}return t.next=4,e.$summary.getSummary(n);case 4:r=t.sent,a=r.data,e.summary=JSON.parse(a.result),o=[],e.summary.Items.forEach((function(t,n){var r,a=Object(nt["a"])(t.Ratings);try{var s=function(){var t=r.value,a=o.findIndex((function(e){return e.id===t.PlayerProfile.Id}));if(-1===a){var s=e.getRandomColor(),i=o.push({id:t.PlayerProfile.Id,label:t.PlayerProfile.Nickname,data:[],showLine:!1,pointBackgroundColor:s,backgroundColor:s,pointStyle:"rectRot",pointRadius:"10",pointHoverRadius:"12"});o[i-1].data[n]=t.TotalScore}else o[a].data[n]=t.TotalScore};for(a.s();!(r=a.n()).done;)s()}catch(i){a.e(i)}finally{a.f()}})),e.config.data.datasets=o,e.config.data.labels=e.summary.Items.map((function(e){return e.Name})),s=document.getElementById("summaryChart").getContext("2d"),new at.a(s,e.config),t.next=16;break;case 15:e.$router.push({name:"Home"});case 16:case"end":return t.stop()}}),t)})))()},methods:{getRandomColor:function(){for(var e="0123456789ABCDEF",t="#",n=0;n<6;n++)t+=e[Math.floor(16*Math.random())];return t}}},st=ot,it=Object(V["a"])(st,et,tt,!1,null,null,null),ct=it.exports,lt={components:{SummariesCard:ct}},ut=lt,mt=Object(V["a"])(ut,Qe,Xe,!1,null,null,null),dt=mt.exports,ft=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"room"},[n("div",{staticClass:"container vh-100 d-flex align-items-center justify-content-center"},[n("div",{staticClass:"col-12 px-0"},[n("rating-card")],1)])])},pt=[],gt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-card",{staticClass:"box-card",staticStyle:{"max-height":"90vh",overflow:"auto"}},[n("div",{staticClass:"text-center",attrs:{slot:"header"},slot:"header"},[n("h3",[e._v(e._s(e.item.name))])]),n("div",{staticClass:"col-12 d-flex justify-content-center align-items-center flex-column px-0"},[n("div",{staticClass:"d-flex flex-column"},[e.item.imageLink?n("el-image",{attrs:{src:e.item.imageLink,fit:"contain"}},[n("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[n("i",{staticClass:"el-icon-picture-outline"})])]):e._e(),n("span",{staticClass:"pt-3"},[e._v(" "+e._s(e.item.description)+" ")])],1),e._l(e.categories,(function(t,r){return n("div",{key:t.id,staticClass:"col-12 d-flex flex-column mb-3 px-0 justify-content-center align-items-center"},[n("el-divider",{attrs:{"content-position":"left"}},[e._v(e._s(t.name))]),n("div",{staticClass:"col-12 col-md-6 px-0"},[e.rating.categoryRatings[r]?n("el-rate",{staticClass:"d-flex justify-content-between flex-wrap h-100",attrs:{"allow-half":"",colors:e.colors,max:5},model:{value:e.rating.categoryRatings[r].score,callback:function(t){e.$set(e.rating.categoryRatings[r],"score",t)},expression:"rating.categoryRatings[index].score"}}):e._e()],1)],1)})),n("div",{staticClass:"col-12 d-flex justify-content-end align-items-center flex-column flex-md-row px-0"},[e.votingProgress.max?n("span",[e._v(e._s(e.$t("room.Voted")+":"+e.votingProgress.progress+"/"+e.votingProgress.max+" "))]):e._e(),e.isMaster?n("el-button",{staticClass:"text-wrap my-2 ml-2 col-12 col-md-2",attrs:{type:"warning",icon:"el-icon-video-play"},on:{click:function(t){return e.vote()}}},[e._v(e._s(e.$t("room.ForceNextStep")))]):e._e(),n("el-button",{staticClass:"text-wrap my-2 ml-2 col-12 col-md-2",attrs:{type:"success",disabled:e.loading,icon:e.loading?"el-icon-loading":"el-icon-s-promotion"},on:{click:function(t){return e.vote()}}},[e._v(e._s(e.$t("room.Vote")))])],1)],2)])},ht=[],bt=(n("7db0"),{data:function(){return{item:{},currentId:"",input:"",colors:["#99A9BF","#F7BA2A","#FF9900"],rating:{playerProfileId:"",itemId:"",categoryRatings:[{categoryId:0,score:0}]},loading:!1}},mounted:function(){this.currentId=this.lastGameConfig.lastItemId,null===this.currentId&&this.$router.push({name:"Home"}),this.rating.itemId=this.currentId,this.rating.playerProfileId=this.profileId,this.rating.categoryRatings=this.categories.map((function(e){return{categoryId:e.id,score:0}}))},mixins:[N],methods:Object(P["a"])(Object(P["a"])({},Object(G["b"])(["setVotingProgress"])),{},{vote:function(){var e=this;if(!this.loading){this.loading=!0;var t,n=!0,r=Object(nt["a"])(this.rating.categoryRatings);try{for(r.s();!(t=r.n()).done;){var a=t.value;0===a.score&&(n=!1)}}catch(o){r.e(o)}finally{r.f()}n?this.$connection.invoke("AddRating",this.lastGameConfig.code,this.rating):this.$notify.info({title:this.$t("room.MinRate")}),setTimeout((function(){e.loading=!1}),2e3)}}}),computed:Object(P["a"])({},Object(G["c"])(["items","categories","profileId","lastGameConfig","votingProgress","isMaster"])),watch:{currentId:function(e){this.item=this.items.find((function(t){return t.id===e})),this.setVotingProgress({maxVotes:null,votingCounter:null})},lastGameConfig:{deep:!0,handler:function(e){this.currentId=e.lastItemId,this.rating.itemId=this.currentId,this.rating.categoryRatings.forEach((function(e){return e.score=0}))}}}}),vt=bt,Ct=(n("624c"),Object(V["a"])(vt,gt,ht,!1,null,null,null)),xt=Ct.exports,yt={components:{RatingCard:xt}},jt=yt,wt=Object(V["a"])(jt,ft,pt,!1,null,null,null),kt=wt.exports,_t=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"room-creator"},[n("div",{staticClass:"container vh-100 d-flex align-items-center justify-content-center"},[n("div",{staticClass:"col-12 px-0 px-sm-3"},[n("room-creator-card")],1)])])},$t=[],It=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"text-center my-4",attrs:{slot:"header"},slot:"header"},[n("h3",{staticClass:"room-creator-header"},[e._v(" "+e._s(e.$t("creator.RoomCreator").toUpperCase())+" ")])]),n("div",{staticClass:"col-12 d-flex justify-content-center align-items-center flex-wrap px-0 px-sm-3"},[n("div",{staticClass:"col-12 pt-2 pb-4"},[n("el-steps",{attrs:{active:e.active,"finish-status":"success"}},[n("el-step"),n("el-step"),n("el-step")],1)],1),n(e.currentComponent,{tag:"component",attrs:{roomConfig:e.room},on:{dispatchPreviousStep:e.previousStep,dispatchNextStep:e.nextStep}})],1)])},St=[],Ot=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"col-12 d-flex flex-column justify-content-center align-items-center"},[n("div",{staticClass:"col-6 d-flex flex-column justify-content-center align-items-center my-3 mb-4"},[n("h5",{staticClass:"pb-2 grey"},[e._v(e._s(e.$t("creator.RoomName")))]),n("div",{staticClass:"col-12 col-lg-8 d-flex flex-column"},[n("ValidationObserver",{ref:"form"},[n("div",{staticClass:"form-group"},[n("ValidationProvider",{ref:"roomName",attrs:{name:"RoomName",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[n("el-input",{class:[{"is-invalid":r[0]}],attrs:{placeholder:e.$t("creator.RoomName"),clearable:""},model:{value:e.roomConfig.name,callback:function(t){e.$set(e.roomConfig,"name",t)},expression:"roomConfig.name"}},[n("i",{staticClass:"el-input__icon el-icon-star-on",attrs:{slot:"prefix"},slot:"prefix"})]),n("small",{staticClass:"error-text"},[e._v(" "+e._s(r[0])+" ")])]}}])})],1)])],1)]),n("div",{staticClass:"col-12 d-flex justify-content-between flex-column flex-sm-row flex-wrap"},[n("el-button",{staticClass:"text-wrap my-2 font-weight-bold",attrs:{type:"danger",icon:"el-icon-circle-close"},on:{click:e.previousStep}},[e._v(e._s(e.$t("creator.CancelRoom")))]),n("el-button",{staticClass:"text-wrap my-2 mx-0 font-weight-bold",attrs:{type:"success"},on:{click:e.nextStep}},[e._v(e._s(e.$t("creator.Next"))+" "),n("i",{staticClass:" el-icon-right"})])],1)])},Rt=[],Pt={props:{roomConfig:{required:!0,type:Object}},data:function(){return{}},methods:Object(P["a"])(Object(P["a"])({},Object(G["b"])(["setGameConfig"])),{},{previousStep:function(){this.$emit("dispatchPreviousStep")},nextStep:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.form.validate();case 2:if(n=t.sent,!n){t.next=11;break}return t.next=6,e.$game.createGame({name:e.roomConfig.name});case 6:r=t.sent,e.roomConfig.code=r.data.code,e.roomConfig.gameId=r.data.id,e.setGameConfig({code:r.data.code.toUpperCase(),nickname:"",lastItemId:null}),e.$emit("dispatchNextStep");case 11:case"end":return t.stop()}}),t)})))()}})},Lt=Pt,Et=Object(V["a"])(Lt,Ot,Rt,!1,null,null,null),Nt=Et.exports,Gt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"col-12 d-flex flex-column justify-content-center align-items-center"},[n("div",{staticClass:"col-12 d-flex flex-column justify-content-center align-items-center my-3 mb-4"},[n("h5",{staticClass:"pb-2 grey"},[e._v(e._s(e.$t("creator.EnterCategories")))]),n("div",{staticClass:"col-12 d-flex flex-column"},[n("ValidationObserver",{ref:"form"},[n("div",{staticClass:"form-group"},e._l(e.roomConfig.categories,(function(t,r){return n("div",{key:t.id,staticClass:"d-flex flex-wrap align-items-center justify-content-center my-2"},[n("div",{staticClass:"col-12 col-md-6 col-lg-4 my-1 my-md-0"},[n("ValidationProvider",{ref:"categoryName",refInFor:!0,attrs:{name:"CategoryName",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(r){var a=r.errors;return[n("el-input",{class:[{"is-invalid":a[0]}],attrs:{placeholder:e.$t("creator.CategoryName"),clearable:"",maxlength:"25"},model:{value:t.name,callback:function(n){e.$set(t,"name",n)},expression:"category.name"}},[n("i",{staticClass:"el-input__icon el-icon-star-on",attrs:{slot:"prefix"},slot:"prefix"})]),n("small",{staticClass:"error-text"},[e._v(" "+e._s(a[0])+" ")])]}}],null,!0)})],1),n("div",{staticClass:"col-12 col-md-4 col-lg-2 my-1 my-md-0"},[n("ValidationProvider",{ref:"categoryWeight",refInFor:!0,attrs:{name:"CategoryWeight",rules:"numeric|required"},scopedSlots:e._u([{key:"default",fn:function(r){var a=r.errors;return[n("el-input",{attrs:{type:"number",placeholder:e.$t("creator.CategoryWeight"),min:"1"},model:{value:t.weight,callback:function(n){e.$set(t,"weight",n)},expression:"category.weight"}},[n("i",{staticClass:"el-input__icon fa fa-balance-scale",attrs:{slot:"prefix"},slot:"prefix"})]),n("small",{staticClass:"error-text"},[e._v(" "+e._s(a[0])+" ")])]}}],null,!0)})],1),n("div",{staticClass:"col-12 col-md-2"},[n("el-button",{attrs:{type:"danger",icon:"el-icon-minus"},on:{click:function(t){return e.removeCategory(r)}}})],1)])})),0)])],1),n("div",{staticClass:"col-12 d-flex justify-content-center align-items-center"},[e._v(" "+e._s(e.$t("creator.NewCategory"))+" "),n("el-button",{staticClass:"ml-2",attrs:{type:"success",icon:"el-icon-plus"},on:{click:e.addNewCategory}})],1)]),n("div",{staticClass:"col-12 d-flex justify-content-between flex-column flex-sm-row flex-wrap"},[n("el-button",{staticClass:"text-wrap my-2 font-weight-bold",attrs:{type:"danger",icon:"el-icon-back"},on:{click:e.previousStep}},[e._v(e._s(e.$t("creator.Previous")))]),n("el-button",{staticClass:"text-wrap my-2 mx-0 font-weight-bold",attrs:{type:"success"},on:{click:e.nextStep}},[e._v(e._s(e.$t("creator.Next"))+" "),n("i",{staticClass:"el-icon-right"})])],1)])},At=[],Dt=(n("4de4"),n("a434"),n("2909")),Vt={props:{roomConfig:{required:!0,type:Object}},data:function(){return{oldCategories:[]}},mounted:function(){this.fetchCategories()},computed:{newCategories:function(){return this.roomConfig.categories.filter((function(e){return e.new}))},updatedCategories:function(){var e=this;return this.oldCategories.filter((function(t){var n=e.roomConfig.categories.find((function(e){return e.id===t.id}));return!e.isCategoryEqual(n,t)&&!t.new}))}},methods:{fetchCategories:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$category.getCategories(e.roomConfig.gameId);case 2:n=t.sent,n&&(e.roomConfig.categories=Object(Dt["a"])(n.data),e.oldCategories=e.roomConfig.categories.map((function(e){return Object(P["a"])({},e)}))),0===e.roomConfig.categories.length&&e.roomConfig.categories.push({name:"",weight:1,gameId:e.roomConfig.gameId,new:!0});case 5:case"end":return t.stop()}}),t)})))()},removeCategory:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!t.roomConfig.categories[e].id){n.next=3;break}return n.next=3,t.$category.removeCategory(t.roomConfig.categories[e].id);case 3:t.roomConfig.categories.splice(e,1);case 4:case"end":return n.stop()}}),n)})))()},addNewCategory:function(){this.roomConfig.categories.push({name:"",weight:1,gameId:this.roomConfig.gameId,new:!0})},previousStep:function(){this.$emit("dispatchPreviousStep")},nextStep:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={untouched:!0},t.next=3,e.$refs.form.validate();case 3:if(r=t.sent,!(r&&e.roomConfig.categories.length>0)){t.next=16;break}if(!(e.newCategories.length>0)){t.next=9;break}return t.next=8,e.$category.createCategories(e.newCategories.map((function(e){return e.weight=+e.weight,e})));case 8:n=t.sent;case 9:if(!(e.updatedCategories.length>0)){t.next=13;break}return t.next=12,e.$category.updateCategories(e.updatedCategories.map((function(e){return e.weight=+e.weight,e})));case 12:n=t.sent;case 13:(n||n.untouched)&&e.$emit("dispatchNextStep"),t.next=17;break;case 16:e.$notify.error({title:e.$t("creator.Error"),message:e.$t("creator.CategoriesFail")});case 17:case"end":return t.stop()}}),t)})))()},isCategoryEqual:function(e,t){return e.id===t.id&&e.name===t.name&&e.weight===t.weight}}},Ft=Vt,Mt=Object(V["a"])(Ft,Gt,At,!1,null,null,null),Ut=Mt.exports,Tt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"col-12 d-flex flex-column justify-content-center align-items-center"},[n("div",{staticClass:"col-6 d-flex flex-column justify-content-center align-items-center my-3 mb-4"},[n("h5",{staticClass:"pb-2 grey"},[e._v(e._s(e.$t("creator.InviteFriends")))]),n("el-tooltip",{attrs:{placement:"top"}},[n("div",{attrs:{slot:"content"},slot:"content"},[e._v(" "+e._s(e.$t("creator.CopyToClipboard"))+" ")]),n("h2",{staticClass:"clipboard-code",on:{click:function(t){return e.copy()}}},[e._v(" "+e._s(e.roomConfig.code)+" "),n("i",{staticClass:"el-icon-document-copy"}),n("input",{attrs:{type:"hidden",id:"game-code"},domProps:{value:e.roomConfig.code}})])]),n("ValidationObserver",{ref:"form",staticClass:"pt-3"},[n("div",{staticClass:"form-group"},[n("ValidationProvider",{ref:"nickname",attrs:{name:"Nickname",rules:"required|max:25"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[n("el-input",{class:[{"is-invalid":r[0]}],attrs:{placeholder:e.$t("home.Nickname"),maxlength:"25",clearable:""},model:{value:e.nickname,callback:function(t){e.nickname=t},expression:"nickname"}},[n("i",{staticClass:"el-input__icon el-icon-user-solid",attrs:{slot:"prefix"},slot:"prefix"})]),n("small",{staticClass:"error-text"},[e._v(" "+e._s(r[0])+" ")])]}}])})],1)])],1),n("div",{staticClass:"col-12 d-flex justify-content-between flex-column flex-sm-row flex-wrap"},[n("el-button",{staticClass:"text-wrap my-2 font-weight-bold",attrs:{type:"danger",icon:"el-icon-back"},on:{click:e.previousStep}},[e._v(e._s(e.$t("creator.Previous")))]),n("el-button",{staticClass:"text-wrap my-2 mx-0 font-weight-bold",attrs:{type:"success"},on:{click:e.nextStep}},[e._v(e._s(e.$t("creator.Lobby"))+" "),n("i",{staticClass:"el-icon-right"})])],1)])},Bt=[],Ht={props:{roomConfig:{required:!0,type:Object}},data:function(){return{nickname:""}},methods:{previousStep:function(){this.$emit("dispatchPreviousStep")},nextStep:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.form.validate();case 2:n=t.sent,n&&e.$emit("dispatchNextStep",e.nickname);case 4:case"end":return t.stop()}}),t)})))()},copy:function(){var e=document.querySelector("#game-code");e.setAttribute("type","text"),e.select();var t=document.execCommand("copy");t?this.$notify.success({title:this.$t("creator.Copied")}):this.$notify.error({title:this.$t("creator.SomethingGoesWrong")}),e.setAttribute("type","hidden"),window.getSelection().removeAllRanges()}}},qt=Ht,Wt=Object(V["a"])(qt,Tt,Bt,!1,null,null,null),zt=Wt.exports,Jt={data:function(){return{active:0,room:{gameId:null,code:"",name:"",categories:[],items:[]},dynamicComponents:[{name:"name-form"},{name:"categories-list"},{name:"invite-friends"}]}},computed:{currentComponent:function(){return this.dynamicComponents[this.active].name},isFirstStep:function(){return 0===this.active},isLastStep:function(){return this.active===this.stepsLimit},stepsLimit:function(){return this.dynamicComponents.length-1}},components:{NameForm:Nt,CategoriesList:Ut,InviteFriends:zt},methods:Object(P["a"])(Object(P["a"])({},Object(G["b"])(["setGameConfig"])),{},{nextStep:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!(t.active++>=t.stepsLimit)){n.next=7;break}if(t.active=0,t.$connection.connectionStarted||t.$notify.info({title:"Info",message:t.$t("layout.Wait")}),!t.$connection.connectionStarted){n.next=7;break}return n.next=6,t.$connection.invoke("ConnectToGame",t.room.code,e);case 6:t.setGameConfig({code:t.room.code.toUpperCase(),nickname:e,lastItemId:null});case 7:case"end":return n.stop()}}),n)})))()},previousStep:function(){this.active--<=0&&this.$router.push({name:"Home"})}})},Yt=Jt,Kt=Object(V["a"])(Yt,It,St,!1,null,null,null),Zt=Kt.exports,Qt={components:{RoomCreatorCard:Zt}},Xt=Qt,en=Object(V["a"])(Xt,_t,$t,!1,null,null,null),tn=en.exports,nn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"room"},[n("div",{staticClass:"container vh-100 d-flex align-items-center justify-content-center"},[n("div",{staticClass:"col-12"},[n("summaries-list")],1)])])},rn=[],an=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-card",{staticClass:"box-card",staticStyle:{"max-height":"90vh",overflow:"auto"}},[n("div",{staticClass:"text-center",attrs:{slot:"header"},slot:"header"},[n("h3",[e._v(e._s(e.$t("summary.Summaries")))])]),n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.summaries,"empty-text":e.$t("creator.EmptyList")}},[n("el-table-column",{attrs:{prop:"gameName",label:e.$t("summary.Summary")}}),n("el-table-column",{attrs:{prop:"finishedAt",label:e.$t("summary.Date")}}),n("el-table-column",{attrs:{align:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"col-12 col-md-2"},[n("el-button",{attrs:{type:"success",icon:"el-icon-right"},on:{click:function(n){return e.openRanking(t.row.gameId)}}})],1)]}}])})],1)],1)},on=[],sn=n("c1df"),cn=n.n(sn),ln={data:function(){return{summaries:[]}},mounted:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$summary.getSummaries(e.user.nameid);case 2:return n=t.sent,r=n.data,t.abrupt("return",e.sortArray(e.summaries=r.map((function(e){return e.finishedAt=cn()(e.finishedAt).format("MM/DD/YYYY, h:mm:ss a"),e}))));case 5:case"end":return t.stop()}}),t)})))()},methods:{openRanking:function(e){this.$router.push({name:"Summary",params:{gameId:e}})},sortArray:function(e){e.sort((function(e,t){return new Date(t.finishedAt)-new Date(e.finishedAt)}))}},computed:Object(P["a"])({},Object(G["c"])(["user"]))},un=ln,mn=Object(V["a"])(un,an,on,!1,null,null,null),dn=mn.exports,fn={components:{SummariesList:dn}},pn=fn,gn=Object(V["a"])(pn,nn,rn,!1,null,null,null),hn=gn.exports,bn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"waiting-room"},[n("div",{staticClass:"container vh-100 d-flex align-items-center justify-content-center"},[n("div",{staticClass:"col-12 px-0 px-sm-3"},[n("waiting-room-card")],1)])])},vn=[],Cn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"text-center waiting-room-header my-4",attrs:{slot:"header"},slot:"header"},[n("div",[n("h3",[e._v(" "+e._s(e.$t("lobby.WelcomeIn").toUpperCase().replace("|CODE|",e.code))+" ")])]),n("div",{staticClass:"col-12 d-flex justify-content-end"},[n("el-button",{staticClass:"text-wrap my-2 font-weight-bold",attrs:{type:"success",icon:"el-icon-notebook-2"},on:{click:function(t){e.itemsListDialog=!0}}},[e._v(e._s(e.$t("lobby.ItemsList")))]),n("el-button",{staticClass:"text-wrap my-2 font-weight-bold",attrs:{type:"success",icon:"el-icon-circle-plus-outline"},on:{click:function(t){e.addItemDialog=!0}}},[e._v(e._s(e.$t("lobby.AddItem")))])],1),n("el-dialog",{attrs:{title:e.$t("lobby.ItemsList"),visible:e.itemsListDialog,fullscreen:e.isSmallScreen,"before-close":e.handleClose},on:{"update:visible":function(t){e.itemsListDialog=t}}},[n("items-list")],1),n("el-dialog",{attrs:{title:e.$t("lobby.AddItem"),visible:e.addItemDialog,fullscreen:e.isSmallScreen,"before-close":e.handleClose},on:{"update:visible":function(t){e.addItemDialog=t}}},[n("add-item",{attrs:{gameCode:e.code}})],1)],1),n("div",{staticClass:"col-12 d-flex justify-content-center align-items-center flex-wrap px-0 px-sm-3"},[e._l(e.usersInLobby,(function(t,r){return n("div",{key:r,staticClass:"col-6 col-sm-3 d-flex justify-content-center align-items-center my-3"},[e._v(" "+e._s(t)+" ")])})),n("div",{staticClass:"col-12 d-flex justify-content-between"},[n("el-button",{staticClass:"text-wrap my-2 font-weight-bold",attrs:{type:"danger",icon:"el-icon-back"},on:{click:e.leaveRoom}},[e._v(e._s(e.$t("lobby.LeaveRoom")))]),e.isMaster?n("el-button",{staticClass:"text-wrap my-2 font-weight-bold",attrs:{type:"success",icon:"el-icon-right"},on:{click:function(t){return e.startGame()}}},[e._v(e._s(e.$t("lobby.Start")))]):e._e()],1)],2)])],1)},xn=[],yn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"col-12 d-flex flex-column justify-content-center align-items-center"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.items,"empty-text":e.$t("creator.EmptyList")}},[n("el-table-column",{attrs:{prop:"name",label:e.$t("creator.ItemName")}}),n("el-table-column",{attrs:{prop:"description",label:e.$t("creator.ItemDescription")}}),n("el-table-column",{attrs:{prop:"imageLink",label:e.$t("creator.ItemImage")}}),e.isMaster?n("el-table-column",{scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"col-12 col-md-2"},[n("el-button",{attrs:{type:"danger",icon:"el-icon-minus"},on:{click:function(n){return e.removeItem(t.row)}}})],1)]}}],null,!1,891408535)}):e._e()],1)],1)},jn=[],wn={data:function(){return{loading:!1}},methods:{removeItem:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$connection.invoke("RemoveItem",e.id,t.lastGameConfig.code);case 2:case"end":return n.stop()}}),n)})))()}},computed:Object(P["a"])({},Object(G["c"])(["items","isMaster","lastGameConfig"]))},kn=wn,_n=Object(V["a"])(kn,yn,jn,!1,null,null,null),$n=_n.exports,In=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"col-12 d-flex flex-column justify-content-center align-items-center"},[n("div",{staticClass:"col-12 d-flex flex-column justify-content-center align-items-center my-3 mb-4 px-0"},[n("ValidationObserver",{ref:"form"},[n("div",{staticClass:"form-group d-flex flex-column flex-md-row flex-wrap"},[n("div",{staticClass:"col-12 col-md-6 my-1 my-md-0 px-0 px-md-1"},[n("ValidationProvider",{ref:"itemName",attrs:{name:"ItemName",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[n("el-input",{class:[{"is-invalid":r[0]}],attrs:{placeholder:e.$t("creator.ItemName"),maxlength:"30",clearable:""},model:{value:e.item.name,callback:function(t){e.$set(e.item,"name",t)},expression:"item.name"}},[n("i",{staticClass:"el-input__icon el-icon-star-on",attrs:{slot:"prefix"},slot:"prefix"})]),n("small",{staticClass:"error-text"},[e._v(" "+e._s(r[0])+" ")])]}}])})],1),n("div",{staticClass:"col-12 col-md-6 my-1 my-md-0 px-0 px-md-1"},[n("ValidationProvider",{ref:"itemImage",attrs:{name:"ItemImage"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[n("el-input",{class:[{"is-invalid":r[0]}],attrs:{placeholder:e.$t("creator.ItemImage"),clearable:""},model:{value:e.item.imageLink,callback:function(t){e.$set(e.item,"imageLink",t)},expression:"item.imageLink"}},[n("i",{staticClass:"el-input__icon fa fa-balance-scale",attrs:{slot:"prefix"},slot:"prefix"})]),n("small",{staticClass:"error-text"},[e._v(" "+e._s(r[0])+" ")])]}}])})],1),n("div",{staticClass:"col-12 my-2 px-0 px-md-1"},[n("ValidationProvider",{ref:"itemDescription",attrs:{name:"ItemDescription"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[n("el-input",{class:[{"is-invalid":r[0]}],attrs:{placeholder:e.$t("creator.ItemDescription"),clearable:""},model:{value:e.item.description,callback:function(t){e.$set(e.item,"description",t)},expression:"item.description"}},[n("i",{staticClass:"el-input__icon fa fa-balance-scale",attrs:{slot:"prefix"},slot:"prefix"})]),n("small",{staticClass:"error-text"},[e._v(" "+e._s(r[0])+" ")])]}}])})],1)])]),n("div",{staticClass:"col-12 d-flex justify-content-end flex-column flex-sm-row flex-wrap"},[n("el-button",{staticClass:"text-wrap mt-2 mx-0 font-weight-bold",attrs:{disabled:e.loading,type:"success"},on:{click:function(t){return e.addNewItem()}}},[e._v(e._s(e.$t("lobby.AddItem"))+" "),n("i",{staticClass:"el-icon-circle-plus-outline"})])],1)],1)])},Sn=[],On={props:{gameCode:{type:String,required:!0}},data:function(){return{loading:!1,item:{name:"",description:"",imageLink:""}}},methods:{addNewItem:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$refs.form.validate();case 3:if(n=t.sent,!n){t.next=10;break}return t.next=7,e.$connection.invoke("AddItem",e.item,e.gameCode);case 7:e.$notify.success({title:"Success",message:e.$t("lobby.ItemAdded")}),e.item={name:"",description:"",imageLink:""},e.$refs.form.reset();case 10:e.loading=!1;case 11:case"end":return t.stop()}}),t)})))()}}},Rn=On,Pn=Object(V["a"])(Rn,In,Sn,!1,null,null,null),Ln=Pn.exports,En={components:{AddItem:Ln,ItemsList:$n},mixins:[N],data:function(){return{code:"",itemsListDialog:!1,addItemDialog:!1}},mounted:function(){var e=this.$route.params.roomCode;e?this.code=e.toUpperCase():this.$router.push({name:"Home"})},methods:Object(P["a"])(Object(P["a"])({},Object(G["b"])(["setGameConfig"])),{},{leaveRoom:function(){this.$connection.invoke("DisconnectFromGame",this.code),this.$router.push({name:"Home"})},startGame:function(){this.items.length>0?this.$connection.invoke("StartGame",this.code,this.items[0].id):this.$notify.info({title:"Info",message:this.$t("layout.NoItems")})},handleClose:function(){this.itemsListDialog=!1,this.addItemDialog=!1}}),computed:Object(P["a"])({},Object(G["c"])(["isMaster","items","usersInLobby"]))},Nn=En,Gn=Object(V["a"])(Nn,Cn,xn,!1,null,"e6994086",null),An=Gn.exports,Dn={components:{WaitingRoomCard:An}},Vn=Dn,Fn=Object(V["a"])(Vn,bn,vn,!1,null,null,null),Mn=Fn.exports;v["default"].use(de["a"]);var Un=[{path:"/",name:"Home",component:$e,meta:{requiresAuth:!0}},{path:"/login",name:"Login",component:Fe},{path:"/lobby",name:"Lobby",component:Mn,meta:{requiresAuth:!0}},{path:"/room",name:"Room",component:kt,meta:{requiresAuth:!0}},{path:"/room/create",name:"RoomCreate",component:tn,meta:{requiresAuth:!0}},{path:"/summary",name:"Summary",component:dt,meta:{requiresAuth:!0}},{path:"/summaries",name:"Summaries",component:hn,meta:{requiresAuth:!0}},{path:"/ranking",name:"Ranking",component:Ze,meta:{requiresAuth:!0}}],Tn=new de["a"]({routes:Un});Tn.beforeEach((function(e,t,n){pe.dispatch("restoreSession");var r=pe.getters.user;e.matched.some((function(e){return e.meta.requiresAuth}))&&(r?n():n({name:"Login"})),e.matched.some((function(e){return!e.meta.requiresAuth}))&&(r?n({name:"Home"}):n())}));var Bn=Tn,Hn={send:function(e){var t=arguments,n=this;return Object(r["a"])(regeneratorRuntime.mark((function r(){var a,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=t.length>1&&void 0!==t[1]?t[1]:null,r.prev=1,r.next=4,$()({method:e.method,url:e.url,data:a,params:e.params});case 4:return o=r.sent,r.abrupt("return",n.__responseWrapper(o));case 8:return r.prev=8,r.t0=r["catch"](1),r.abrupt("return",n.__responseWrapper(r.t0,!1));case 11:case"end":return r.stop()}}),r,null,[[1,8]])})))()},sendClear:function(e){var t=arguments,n=this;return Object(r["a"])(regeneratorRuntime.mark((function r(){var a,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=t.length>1&&void 0!==t[1]?t[1]:null,r.prev=1,r.next=4,$()({method:e.method,url:e.url,data:a,params:e.params,responseType:"blob"});case 4:return o=r.sent,r.abrupt("return",o);case 8:return r.prev=8,r.t0=r["catch"](1),r.abrupt("return",n.__responseWrapper(r.t0,!1));case 11:case"end":return r.stop()}}),r,null,[[1,8]])})))()},__responseWrapper:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n={status:e.status};return t?(n.data=e.data,Object.assign(n,e.data.count?{count:e.data.count}:null,e.data.page?{page:e.data.page}:null)):n.errors={statusCode:e.status,messages:e.data.errors,message:e.data.message},n}},qn=function(e){e.auth={logIn:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Hn.send({method:"post",url:"/login/".concat(e)},null!==t?{token:t}:"");case 2:return r=n.sent,pe.dispatch("setSession",r.data.token),n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})))()}},Object.defineProperties(e.prototype,{$auth:{get:function(){return e.auth}}})},Wn=function(e){e.category={createCategories:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Hn.send({method:"post",url:"/categories"},e);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))()},removeCategory:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Hn.send({method:"delete",url:"/categories/".concat(e)});case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))()},updateCategories:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Hn.send({method:"put",url:"/categories"},e);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))()},getCategories:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Hn.send({method:"get",url:"/categories/".concat(e)});case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))()}},Object.defineProperties(e.prototype,{$category:{get:function(){return e.category}}})},zn=function(e){e.game={createGame:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Hn.send({method:"post",url:"/games"},e);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))()}},Object.defineProperties(e.prototype,{$game:{get:function(){return e.game}}})},Jn=function(e){e.item={createItem:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Hn.send({method:"post",url:"/items"},e);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))()}},Object.defineProperties(e.prototype,{$item:{get:function(){return e.item}}})},Yn=function(e){e.summary={getSummaries:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Hn.send({method:"get",url:"/summaries/user/".concat(e)});case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))()},getSummary:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Hn.send({method:"get",url:"/summaries/".concat(e)});case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))()}},Object.defineProperties(e.prototype,{$summary:{get:function(){return e.summary}}})},Kn=void 0;v["default"].config.productionTip=!1,v["default"].use(S.a,$.a),v["default"].use(s.a),v["default"].use(h),v["default"].use(g),v["default"].use(qn),v["default"].use(Jn),v["default"].use(zn),v["default"].use(Yn),v["default"].use(Wn),v["default"].use(m),v["default"].axios.defaults.baseURL="https://judge-em-api.herokuapp.com/api",v["default"].axios.interceptors.request.use((function(e){var t=u.getSessionCookie();return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(function(e){return Promise.reject(e)})),v["default"].axios.interceptors.response.use((function(e){return e}),function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.response,n?500===t.response.status?Kn.$notify.error({title:"Error",message:t.response.data.message}):401!==t.response.status&&403!==t.response.status||pe.dispatch("deleteSession"):(Bn.push({name:"Login"}),n={data:{success:!1,message:"Connection error"}}),e.abrupt("return",Promise.reject(n));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),new v["default"]({router:Bn,store:pe,i18n:me,render:function(e){return e(W)}}).$mount("#app")},"624c":function(e,t,n){"use strict";var r=n("f064"),a=n.n(r);a.a},f064:function(e,t,n){}});
//# sourceMappingURL=app.8a7cc842.js.map